@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* Primary: Onyx Black (#0B0B0B) - Header, footer, dark sections, body text */
    --color-primary-50: 246 246 246;   /* Pearl White #F6F6F6 */
    --color-primary-100: 229 231 235;  /* Light Gray */
    --color-primary-200: 209 213 219;  /* Gray-200 */
    --color-primary-300: 156 163 175;  /* Gray-300 */
    --color-primary-400: 107 114 128;  /* Slate Gray */
    --color-primary-500: 75 85 99;     /* Gray-500 */
    --color-primary-600: 55 65 81;    /* Gray-600 */
    --color-primary-700: 28 28 31;    /* Midnight Slate #1C1C1F */
    --color-primary-800: 11 11 11;    /* Onyx Black #0B0B0B */
    --color-primary-900: 0 0 0;        /* Pure Black */
    --color-primary-DEFAULT: 11 11 11; /* Onyx Black #0B0B0B */
    
    /* Accent: Soft Gold (#D4AF37) - Primary buttons, links, pricing, highlights */
    --color-accent-50: 251 247 233;    /* #FBF7E9 */
    --color-accent-100: 247 239 211;   /* #F7EFD3 */
    --color-accent-200: 239 224 168;   /* #EFE0A8 */
    --color-accent-300: 231 208 124;   /* #E7D07C */
    --color-accent-400: 223 192 81;     /* #DFC051 */
    --color-accent-500: 212 175 55;    /* Soft Gold #D4AF37 */
    --color-accent-600: 184 150 46;    /* #B8962E */
    --color-accent-700: 154 125 38;    /* #9A7D26 */
    --color-accent-800: 124 100 30;    /* #7C641E */
    --color-accent-900: 94 75 22;      /* #5E4B16 */
    --color-accent-DEFAULT: 212 175 55; /* Soft Gold #D4AF37 */
    
    /* Highlight: Muted Salmon (#FF9A76) - Secondary accents, badges, food-related CTAs */
    --color-highlight-50: 255 245 240;  /* #FFF5F0 */
    --color-highlight-100: 255 235 224; /* #FFEBE0 */
    --color-highlight-200: 255 215 194; /* #FFD7C2 */
    --color-highlight-300: 255 195 163; /* #FFC3A3 */
    --color-highlight-400: 255 175 133; /* #FFAF85 */
    --color-highlight-500: 255 154 118; /* Muted Salmon #FF9A76 */
    --color-highlight-600: 255 122 77;  /* #FF7A4D */
    --color-highlight-700: 255 90 36;   /* #FF5A24 */
    --color-highlight-800: 250 58 0;    /* #FA3A00 */
    --color-highlight-900: 199 46 0;    /* #C72E00 */
    --color-highlight-DEFAULT: 255 154 118; /* Muted Salmon #FF9A76 */
    --font-display: 'Sen', ui-serif, Georgia, Cambria, 'Times New Roman', Times,
      serif;
    --font-body: Sen, ui-sans-serif, system-ui, -apple-system,
      BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial,
      'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
      'Segoe UI Symbol', 'Noto Color Emoji';

    --mkt-header-height: 46px;
    --mkt-header-height-desktop: 72px;
  }

  @font-face {
    font-family: 'Sen', sans-serif;
    font-style: normal;
    font-weight: 400;
    font-display: swap;
    src: url(https://fonts.googleapis.com/css2?family=Sen:wght@400..800&display=swap)
      format('truetype');
  }
  @font-face {
    font-family: 'Italiana', sans-serif;
    font-style: normal;
    font-weight: 400;
    font-display: swap;
    src: url(https://fonts.googleapis.com/css2?family=Italiana&display=swap)
      format('truetype');
  }
  @font-face {
    font-family: 'Ballet', sans-serif;
    font-style: normal;
    font-weight: 400;
    font-display: swap;
    src: url(https://fonts.googleapis.com/css2?family=Ballet:opsz@16..72&display=swap)
      format('truetype');
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    @apply font-display;
  }

  .order-summary {
    @apply !bg-white;
  }
}

/* Mobile-only typography tuning: increase text sizes without changing spacing scale */
@layer utilities {
  /* Cross-browser multi-line text clamping with ellipsis */
  .ellipsis-1 { display: -webkit-box; -webkit-line-clamp: 1; -webkit-box-orient: vertical; overflow: hidden; }
  .ellipsis-2 { display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden; }
  .ellipsis-3 { display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; }

  @media (max-width: 639px) {
    /* Bump common text utilities, keep rem-based spacing unchanged */
    .text-sm { font-size: 0.9375rem; line-height: 1.5rem; }     /* ~15px */
    .text-base { font-size: 1.0625rem; line-height: 1.75rem; }  /* ~17px */
    .text-lg { font-size: 1.125rem; line-height: 1.75rem; }     /* ~18px */

    /* CTA readability */
    .button { font-size: 1.0625rem; } /* match ~17px for labels */
  }
}

@layer components {
  .prose h1,
  .prose h2 {
    margin-bottom: 0.5em;
  }

  .prose h1,
  .prose h2,
  .prose h3,
  .prose h4,
  .prose h5,
  .prose h6 {
    @apply leading-[1.15] text-inherit;
  }

  .prose a {
    @apply text-primary-600 hover:text-primary-500 focus:ring-primary-300 rounded-sm focus:outline-none focus:ring-2 focus:ring-offset-1;
  }
}

@layer utilities {
  .position-bottom {
    @apply left-1/2 right-auto mt-2 origin-top -translate-x-1/2;
  }
  .position-bottom-left {
    @apply left-0 right-auto mt-2 origin-top-left;
  }
  .position-bottom-right {
    @apply right-0 left-auto mt-2 origin-top-right;
  }
  .position-top {
    @apply left-1/2 right-auto top-auto bottom-full mb-2 origin-bottom -translate-x-1/2;
  }
  .position-top-left {
    @apply left-0 right-auto bottom-full top-auto mb-2 origin-bottom-left;
  }
  .position-top-right {
    @apply right-0 left-auto bottom-full top-auto mb-2 origin-bottom-right;
  }
  .position-left {
    @apply right-full left-auto top-1/2 bottom-auto mr-2 origin-right -translate-y-1/2;
  }
  .position-left-top {
    @apply right-full left-auto top-0 bottom-auto mr-2 origin-top-left;
  }
  .position-left-bottom {
    @apply right-full left-auto bottom-0 top-auto mr-2 origin-bottom-left;
  }
  .position-right {
    @apply left-full right-auto top-1/2 bottom-auto ml-2 origin-left -translate-y-1/2;
  }
  .position-right-top {
    @apply left-full right-auto top-0 bottom-auto ml-2 origin-top-right;
  }
  .position-right-bottom {
    @apply left-full right-auto bottom-0 top-auto ml-2 origin-bottom-right;
  }

  /* Hide scrollbars (while keeping scroll functionality) */
  .no-scrollbar::-webkit-scrollbar {
    display: none;
  }
  .no-scrollbar {
    -ms-overflow-style: none; /* IE and Edge */
    scrollbar-width: none; /* Firefox */
  }

  /* Hide page scrollbars on mobile while preserving scroll */
  @media (max-width: 639px) {
    html, body {
      -ms-overflow-style: none; /* IE and Edge */
      scrollbar-width: none; /* Firefox */
      overflow-x: hidden; /* prevent horizontal jiggle/white gutter */
      max-width: 100%;
    }
    html::-webkit-scrollbar,
    body::-webkit-scrollbar {
      display: none; /* Safari/Chrome */
      width: 0;
      height: 0;
      background: transparent;
    }
  }
}

.mkt-section {
  color: rgb(var(--default-color));
  text-align: var(--default-text-align);
  font-family: var(--default-font-family);
  font-size: var(--default-font-size);
  font-weight: var(--default-font-weight);
  background-image: var(--default-background-image);
  background-color: rgb(var(--default-background-color));
  background-position: var(--default-background-position, center);
  background-size: var(--default-background-size, cover);
  background-repeat: var(--default-background-repeat, no-repeat);
  padding-top: var(--default-padding-top);
  padding-right: var(--default-padding-right);
  padding-bottom: var(--default-padding-bottom);
  padding-left: var(--default-padding-left);
  margin-top: var(--default-margin-top);
  margin-right: var(--default-margin-right);
  margin-bottom: var(--default-margin-bottom);
  margin-left: var(--default-margin-left);
}

.mkt-section__background-overlay {
  @apply absolute top-0 left-0 right-0 bottom-0;
  background-color: rgb(
    var(--default-background-overlay-color) /
      var(--default-background-overlay-opacity, 0.3)
  );
  backdrop-filter: blur(var(--default-background-overlay-blur, 0px));
  mix-blend-mode: var(--default-background-overlay-blend-mode, normal);
}

@media (max-width: 639px) {
  .mkt-section {
    color: rgb(var(--mobile-color, var(--default-color)));
    text-align: var(--mobile-text-align, var(--default-text-align));
    font-family: var(--mobile-font-family, var(--default-font-family));
    font-size: var(--mobile-font-size, var(--default-font-size));
    font-weight: var(--mobile-font-weight, var(--default-font-weight));
    background-image: var(
      --mobile-background-image,
      var(--default-background-image)
    );
    background-color: rgb(
      var(--mobile-background-color, var(--default-background-color))
    );
    background-position: var(
      --mobile-background-position,
      var(--default-background-position, center)
    );
    background-size: var(
      --mobile-background-size,
      var(--default-background-size, cover)
    );
    background-repeat: var(
      --mobile-background-repeat,
      var(--default-background-repeat, no-repeat)
    );
    padding-top: var(--mobile-padding-top, var(--default-padding-top));
    padding-right: var(--mobile-padding-right, var(--default-padding-right));
    padding-bottom: var(--mobile-padding-bottom, var(--default-padding-bottom));
    padding-left: var(--mobile-padding-left, var(--default-padding-left));
    margin-top: var(--mobile-margin-top, var(--default-margin-top));
    margin-right: var(--mobile-margin-right, var(--default-margin-right));
    margin-bottom: var(--mobile-margin-bottom, var(--default-margin-bottom));
    margin-left: var(--mobile-margin-left, var(--default-margin-left));
  }

  .mkt-section__background-overlay {
    background-color: rgb(
      var(
          --mobile-background-overlay-color,
          var(--default-background-overlay-color)
        ) /
        var(
          --mobile-background-overlay-opacity,
          var(--default-background-overlay-opacity, 0.3)
        )
    );
    backdrop-filter: blur(
      var(
        --mobile-background-overlay-blur,
        var(--default-background-overlay-blur, 0px)
      )
    );
    mix-blend-mode: var(
      --mobile-background-overlay-blend-mode,
      var(--default-background-overlay-blend-mode, normal)
    );
  }
}
